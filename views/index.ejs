<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Task Manager</title>
</head>
<body>
    <div class="w-full min-h-screen bg-zinc-900 p-4">
        <form action="/create" method="post">
            <input type="text" class="w-full bg-zinc-800 text-white p-3 rounded-lg outline-none" placeholder="Your task" name="title">
            <textarea type="text" class="w-full min-h-36 bg-zinc-800 text-white p-3 rounded-lg outline-none resize-none my-2" placeholder="Task description" name="details"></textarea>
            <input type="submit" class="bg-blue-500 rounded-md px-4 py-2 text-white cursor-pointer" value="Create Task">
        </form>
        <div class="tasks w-full flex flex-wrap gap-2 my-4 place-content-center">
            <% files.forEach((file)=>{ %>
                <div class="bg-zinc-800 w-64  grow min-h-12 rounded-md py-3 px-4 flex flex-col justify-between">
                    <% var filename  = file.replace('.txt', '') %>
                    <h4 class="text-white  leading-5"><%= filename %></h4>
                    <div class="flex justify-between mt-2 items-center ">
                        <a class="text-blue-500" href="/tasks/<%= file %>">Read more...</a>
                        <div class="flex gap-2">
                            <a class="text-zinc-500" href="/edit/<%= file %>"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-line"><path d="M12 20h9"/><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/><path d="m15 5 3 3"/></svg></a>
                            <a class="text-zinc-500" href="/delete/<%= file %>"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash-2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg></a>
                        </div>
                    </div>
                </div>
            <% }) %>
        </div>
    </div>
</body>
</html>